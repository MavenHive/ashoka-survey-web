<h1><%= t '.response_for_survey', :survey_name => @survey.name %></h1>

<%= semantic_form_for [@survey, @response] do |f| %>
  <%= f.semantic_fields_for :answers do |f| %>
    <% question = f.object.question %>
    <% if question.type == 'RadioQuestion' %>
      <%= image_tag question.image.url(:medium) if question.image.exists? %>
      <%= f.input :content, :label => question.content, :as => :radio, :collection => question.options.map(&:content), :required => question.mandatory %>
    <% end %>
    <% if question.type == 'SingleLineQuestion' %>
      <%= image_tag question.image.url(:medium) if question.image.exists? %>
      <%= f.input :content, :label => question.content, :as => :string, :required => question.mandatory %>
    <% end %>
    <%= f.input :question_id, :as => :hidden %>
  <% end %>

  <%= f.actions do %>
    <%= f.action :submit, :as => :button %>
  <% end %>
<% end %>